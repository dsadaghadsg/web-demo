<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Fapas.vn</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body ng-app="myapp">

    <div ng-controller="myctrl1" class="container text-center">
        <div class="row">
            <div class="col-sm-6 ">
                <form>
                    <div class="form-group">
                        <label for="hoTen" class="form-label">Họ và tên</label>
                        <input ng-model="student.fullname" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="ngaySinh" class="form-label">Ngày sinh</label>
                        <input ng-model="student.birthday" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="diem" class="form-label">Điểm</label>
                        <input ng-model="student.mark" class="form-control">
                    </div>
                    <div class="form-group">
                        <button class="btn btn-default" ng-click="save()">Lưu</button>
                        <button class="btn btn-default" ng-click="cancel()">Hủy</button>
                    </div>
                    
                </form>
                
                <hr>
            </div>
        </div>
        
    </div>

    <div ng-controller="myctrl2" class="container">
        <div class="row">
            <div class="col-sm-6">
                <table class="table">
                    <tr>
                        <th>Họ và tên</th>
                        <th>Ngày sinh</th>
                        <th>Điểm</th>
                        <th></th>
                    </tr>
                    <tr>
                        <td>{{students[0].fullname}}</td>
                        <td>{{students[0].birthday}}</td>
                        <td>{{students[0].mark}}</td>
                        <td>
                            <a href="#" ng-click="edit(0)">Sữa</a>
                        </td>
                    </tr>
                    <tr>
                        <td>{{students[1].fullname}}</td>
                        <td>{{students[1].birthday}}</td>
                        <td>{{students[1].mark}}</td>
                        <td>
                            <a href="#" ng-click="edit(1)">Sữa</a>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <script>
       var app = angular.module ("myapp", []);
       app.controller("myctrl1", function ($scope,$rootScope ){
        $rootScope.save = function (){
            $rootScope.students[$rootScope.index] = $rootScope.student;
        }
        $rootScope.cancel = function (){
            $rootScope.student = angular.copy ($rootScope.students[$rootScope.index]);
        }
       });
       app.controller("myctrl2", function ($scope,$rootScope ){
        $rootScope.students = [
            {
            fullname: "Nguyễn Văn Tèo",
            birthday : "20-01-1995",
            mark : 8.5
        },
          {
            fullname: "Phạm Thị Nở",
            birthday : "15-11-1985",
            mark : 5.5
          } 
        ];
        $rootScope.edit = function (index){
            $rootScope.index = index;
            $rootScope.student = angular.copy ($rootScope.students[index]);
        }
       });
    
       
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
